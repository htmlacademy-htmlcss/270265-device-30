"use strict";{const e=document.querySelector(".filter-price");e.classList.add("hide-price-fieldset");const t=e.querySelector(".filter-price-min").querySelector("input"),o=e.querySelector(".filter-price-max").querySelector("input"),n=e.querySelector(".price-range"),r=n.offsetWidth,u=t.getAttribute("min"),l=(o.getAttribute("max")-u)/r,i=e.querySelector(".price-range-grey-left"),c=e.querySelector(".price-range-grey-right"),s=n.querySelector(".range-from"),a=n.querySelector(".range-to");let m=n.querySelector(".range-control-min"),f=0,v=n.querySelector(".range-control-max"),p=0;const M=-20;f=getControlOffset(t.value),p=getControlOffset(o.value,M),moveMinControl(t.value),moveMaxControl(o.value);let y=0,d=0;function getControlOffset(e,t=0){return e/l+t}function getValueByOffset(e,t=0){return Math.round((e-t)*l)}function moveMinControl(){m.style.left=`${f}px`,i.style.width=`${f}px`,s.innerHTML=t.value}function moveMaxControl(){v.style.left=`${p}px`,c.style.width=r-p+"px",a.innerHTML=o.value}function minMouseDown(e){(e=e||window.event).preventDefault(),y=e.clientX,d=e.clientX,document.onmouseup=rangeControlMouseUp,document.onmousemove=minMouseMove}function minMouseMove(e){(e=e||window.event).preventDefault(),(f=parseInt(m.style.left)+d-y)<0?f=0:f>r?f=r:f>=p-20&&(f=p-20),t.value=getValueByOffset(f),moveMinControl(),y=d,d=e.clientX}function maxMouseDown(e){(e=e||window.event).preventDefault(),y=e.clientX,d=e.clientX,document.onmouseup=rangeControlMouseUp,document.onmousemove=maxMouseMove}function maxMouseMove(e){(e=e||window.event).preventDefault(),(p=parseInt(v.style.left)+d-y)<M?p=M:p>r+M?p=r+M:p<=f+20&&(p=f+20),o.value=getValueByOffset(p,M),moveMaxControl(),y=d,d=e.clientX}function rangeControlMouseUp(){document.onmouseup=null,document.onmousemove=null}m.onmousedown=minMouseDown,v.onmousedown=maxMouseDown}
